<instruction name=context_management_required>
CRITICAL CONTEXT WARNING
Your context window is filling with tool outputs. Strict adherence to context hygiene is required.

PROTOCOL
You should prioritize context management, but do not interrupt a critical atomic operation if one is in progress. Once the immediate step is done, you must perform context management.

IMMEDIATE ACTION REQUIRED
KNOWLEDGE PRESERVATION: If holding valuable raw data you POTENTIALLY will need in your task, compress the smallest closed range that preserves those findings. Write a high-fidelity summary so no key technical insight is lost.

NOISE REMOVAL: If you read files or ran commands that yielded no value, compress those dead-end ranges into explicit noise summaries and move on.

PHASE COMPLETION: If a chapter is complete, compress the entire sequence into a detailed technical summary with unambiguous outcomes.
</instruction>

<instruction name=context_limit_reached>
CRITICAL CONTEXT LIMIT
Your session context has exceeded the configured limit. Strict adherence to context compression is required.

PROTOCOL
You should prioritize context management, but do not interrupt a critical atomic operation if one is in progress. Once the immediate step is done, you must perform context management.

IMMEDIATE ACTION REQUIRED
PHASE COMPLETION: If a phase is complete, compress the entire sequence now.

KNOWLEDGE PRESERVATION: If no full chapter is closed yet, compress smaller closed ranges with high-fidelity summaries to preserve critical findings.

NOISE REMOVAL: Compress clearly irrelevant or superseded ranges first to recover context quickly.
</instruction>
