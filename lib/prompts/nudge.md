<instruction name=context_management_required>
CRITICAL CONTEXT WARNING
Your context window is filling with tool outputs. Strict adherence to context hygiene is required.

PROTOCOL
You should prioritize context management, but do not interrupt a critical atomic operation if one is in progress. Once the immediate step is done, you must perform context management.

IMMEDIATE ACTION REQUIRED
KNOWLEDGE PRESERVATION: If holding valuable raw data you POTENTIALLY will need in your task, compress the smallest closed range that preserves those findings. Write a high-fidelity summary so no key technical insight is lost.

NOISE REMOVAL: If you read files or ran commands that yielded no value, compress those dead-end ranges into explicit noise summaries and move on.

PHASE COMPLETION: If a chapter is complete, compress the entire sequence into a detailed technical summary with unambiguous outcomes.
</instruction>

<instruction name=context_buildup_warning>
CRITICAL WARNING: CONTEXT BUILD-UP

The context window is filling-up. You've reached a point where performance may increasingly degrade. Active context management is now strategically relevant. Mind your context footprint as the conversation grows

YOU MUST COMPRESS NOW TO AVOID CONTEXT ROT. THIS IS CRITICAL. Do not delay context management any further.

DOOOOO IT!!!

Avoid unnecessary context build-up with targeted uses of the `compress` tool. Start with low hanging fruits and clearly identified ranges that can be compressed with minimal risk of losing critical information. Look BACK on the conversation history and avoid compressing the newest ranges until you have exhausted older ones

SCALE PRIORITY (MANDATORY)
Use MICRO first.
Escalate to MESO when MICRO is insufficient.
Use MACRO only as a last resort when a larger chapter is truly closed and bounded.
Do not jump directly to MACRO when independent MICRO/MESO ranges are available.
When multiple independent stale ranges are ready, batch MICRO/MESO compressions in parallel.

If you are performing a critical atomic operation, do not interrupt it, but make sure to perform context management rapidly

BE VERY MINDFUL of the startString and endString you use for compression for RELIABLE boundary matching. NEVER use generic tool outputs like "Edit applied successfully." or generic status message as boundaries. Use unique assistant text or distinctive content instead with enough surrounding context to ensure uniqueness.

Ensure your summaries are inclusive of all parts of the range.
If the compressed range includes user messages, preserve user intent exactly. Prefer direct quotes for short user messages to avoid semantic drift.
</instruction>
